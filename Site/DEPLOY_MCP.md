# Деплой через TimeWeb MCP Server

## Текущая информация о проекте

- **Git репозиторий:** https://github.com/YattaDesure/Site.git
- **Ветка:** main
- **Последний коммит:** 483e7e2588ba931fc82fb8322bff6274615d4d01
- **Тип проекта:** Frontend (Vue.js 3) + Backend (ASP.NET Core)

## Шаги для деплоя через MCP

### 1. Проверка подключения MCP

Если получаете ошибку 401:
- Убедитесь, что перезапустили Cursor после добавления токена
- Проверьте, что токен в `.cursor/mcp.json` правильный
- Токен должен быть из панели TimeWeb Cloud (API раздел)

### 2. Добавление VCS провайдера

Если у вас еще нет подключенного GitHub провайдера, нужно его добавить:

```json
{
  "provider_type": "github",
  "url": "https://github.com/YattaDesure/Site.git",
  "login": "ваш_github_логин",  // Опционально для публичных репозиториев
  "password": "ваш_github_token"  // Опционально для публичных репозиториев
}
```

### 3. Получение списка репозиториев

После добавления провайдера получите список репозиториев и найдите ID вашего репозитория.

### 4. Получение пресетов

Получите список доступных пресетов для выбора подходящего (например, для Node.js/Vue.js).

### 5. Создание приложения

Для фронтенда:
- **Тип:** frontend
- **Фреймворк:** vue
- **Build команда:** `npm run build`
- **Index директория:** `dist`
- **Build context:** `frontend/`
- **Dockerfile:** `frontend/Dockerfile`

Для бэкенда (если нужно):
- **Тип:** backend
- **Фреймворк:** docker (так как есть Dockerfile)
- **Build команда:** (не требуется для Docker)
- **Run команда:** (определяется в Dockerfile)
- **Build context:** `backend/`
- **Dockerfile:** `backend/Dockerfile`

## Важные моменты

1. **База данных:** База данных будет на вашем ноутбуке, не на TimeWeb
2. **Туннель:** Нужно настроить туннель (ngrok/cloudflared) для доступа к БД
3. **Переменные окружения:** Нужно настроить переменные окружения для подключения к БД

## Команды для деплоя

После того как MCP сервер заработает, можно использовать команды:

1. `get_vcs_providers` - получить список провайдеров
2. `get_vcs_provider_repositories` - получить список репозиториев
3. `get_allowed_presets` - получить список пресетов
4. `create_timeweb_app` - создать приложение

## Если MCP не работает

Если продолжаете получать ошибку 401:

1. Проверьте токен в панели TimeWeb
2. Убедитесь, что токен имеет права на создание приложений
3. Попробуйте создать новый токен
4. Перезапустите Cursor
5. Проверьте логи Cursor на наличие ошибок MCP

## Альтернативный способ

Если MCP не работает, используйте инструкции из:
- `DEPLOY_QUICKSTART.md` - быстрый старт
- `DEPLOY_TIMEWEB.md` - подробная инструкция
- `DEPLOY_WITH_LOCAL_DB.md` - с локальной БД


