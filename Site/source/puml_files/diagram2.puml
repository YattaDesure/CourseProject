@startuml diagram22
left to right direction

skinparam packageStyle rectangle
skinparam actorStyle awesome

actor "Пользователь" as User
actor "Менеджер" as Manager
actor "Администратор" as Admin

package "Базовые возможности" {
  usecase "Авторизация в системе" as UC_Auth
  usecase "Просмотр личного профиля" as UC_ViewProfile
  usecase "Изменение пароля" as UC_ChangePassword
}

package "Просмотр данных" {
  usecase "Просмотр списка домов" as UC_ViewHouses
  usecase "Просмотр информации о доме" as UC_ViewHouseInfo
  usecase "Просмотр списка помещений" as UC_ViewProperties
  usecase "Просмотр деталей помещения" as UC_ViewPropertyDetails
  usecase "Просмотр списка собственников" as UC_ViewOwners
  usecase "Просмотр деталей собственника" as UC_ViewOwnerDetails
}

package "Управление недвижимостью" {
  usecase "Добавление нового дома" as UC_AddHouse
  usecase "Редактирование данных дома" as UC_EditHouse
  usecase "Архивация дома" as UC_ArchiveHouse
  usecase "Добавление помещения" as UC_AddProperty
  usecase "Редактирование помещения" as UC_EditProperty
  usecase "Архивация помещения" as UC_ArchiveProperty
}

package "Управление собственниками" {
  usecase "Добавление собственника" as UC_AddOwner
  usecase "Редактирование данных собственника" as UC_EditOwner
  usecase "Архивация собственника" as UC_ArchiveOwner
  usecase "Привязка помещения к собственнику" as UC_LinkProperty
  usecase "Отвязка помещения от собственника" as UC_UnlinkProperty
}

package "Расширенные функции" {
  usecase "Экспорт данных в Excel" as UC_ExportExcel
  usecase "Экспорт данных в PDF" as UC_ExportPDF
  usecase "Массовое редактирование" as UC_BulkEdit
  usecase "Поиск с расширенными фильтрами" as UC_AdvancedSearch
}

package "Администрирование системы" {
  usecase "Управление пользователями" as UC_ManageUsers
  usecase "Назначение ролей" as UC_AssignRoles
  usecase "Просмотр логов системы" as UC_ViewLogs
  usecase "Резервное копирование данных" as UC_Backup
  usecase "Восстановление данных" as UC_Restore
}

' Связи наследования
Admin -up-|> Manager
Manager -up-|> User

' Базовые возможности для всех
User --> UC_Auth
User --> UC_ViewProfile
User --> UC_ChangePassword

' Возможности Пользователя
User --> UC_ViewHouses
User --> UC_ViewHouseInfo
User --> UC_ViewProperties
User --> UC_ViewPropertyDetails
User --> UC_ViewOwners
User --> UC_ViewOwnerDetails

' Возможности Менеджера
Manager --> UC_AddHouse
Manager --> UC_EditHouse
Manager --> UC_ArchiveHouse
Manager --> UC_AddProperty
Manager --> UC_EditProperty
Manager --> UC_ArchiveProperty
Manager --> UC_AddOwner
Manager --> UC_EditOwner
Manager --> UC_ArchiveOwner
Manager --> UC_LinkProperty
Manager --> UC_UnlinkProperty
Manager --> UC_ExportExcel
Manager --> UC_ExportPDF
Manager --> UC_BulkEdit
Manager --> UC_AdvancedSearch

' Права Администратора
Admin --> UC_ManageUsers
Admin --> UC_AssignRoles
Admin --> UC_ViewLogs
Admin --> UC_Backup
Admin --> UC_Restore

' Связи расширения
UC_ViewHouses .> UC_ViewHouseInfo : extends
UC_ViewProperties .> UC_ViewPropertyDetails : extends
UC_ViewOwners .> UC_ViewOwnerDetails : extends
UC_AddProperty .> UC_LinkProperty : extends
UC_EditProperty .> UC_UnlinkProperty : extends

note right of Admin
**Администратор** имеет полный доступ
ко всем функциям системы:
- Все права Менеджера
- Управление пользователями
- Системное администрирование
end note

note right of Manager
**Менеджер** наследует права Пользователя +
полное управление данными:
- Недвижимостью
- Собственниками
- Экспорт и массовые операции
end note

note right of User
**Пользователь** имеет права
только на просмотр данных
и управление личным профилем
end note

@enduml